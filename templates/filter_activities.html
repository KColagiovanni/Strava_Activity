{% extends 'base.html' %}

{% block head %}
<title>Filter Activity</title>
{% endblock %}

{% block body %}
<h1>Filter Activity</h1>
    <div class="dropdown">
        <form method="POST">
            <label for="activity_name_search" class="ms-2">Search Activity Name</label>
            <input type="text" name="activity_search" class="form-control ms-2" style="width:450px" placeholder="Search Activity Name" id="activity_name_search"></input>
            <label for="dropdown-menu" class="ms-2">Activity Type</label>
            <select name="options" id="dropdown-menu" class="form-select ms-2" style="width:250px" onchange="getDropdownValue()">
<!--            <select name="options" id="dropdown-menu" class="form-select ms-2" style="width:250px" onchange="getDropdownValue(); this.form.submit()">-->

                <!-- Add the "All" option to the dropdown box -->
                <option value="All">All</option>

                <!-- Populate the dropdown box with the activity types -->
                {% for type in activity_type_list %}
                    <option value="{{ type }}">{{ type }}</option>
                {% endfor %}

            </select>
            <button type="submit">Filter</button>
        </form>

    <!--        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" onchange="getDropdownValue()">-->
    <!--            Filter by Activity-->
    <!--        </button>-->
    <!--        <ul class="dropdown-menu">-->
    <!--            {% for type in activity_type_list %}-->
    <!--                <li><a class="dropdown-item" value="{{ type }}">{{ type }}</a></li>-->
    <!--            {% endfor %}-->
    <!--        </ul>-->
        <div id="activity-type" class="ms-2 mb-2">Showing All Activities</div>
    </div>
    <table>
        <tr>
            <th>Activity Name</th>
            <th>Start Time</th>
            <th>Moving Time</th>
            <th>Distance</th>
            <th>Average Speed</th>
            <th>Max Speed</th>
            <th>Elevation Gain</th>
            <th>Highest Elevation</th>
            <th>Activity Type</th>
        </tr>
        {% for activity in activities %}
        <tr>
            <td>{{ activity.activity_name }}</td>
            <td>{{ activity.start_time }}</td>
            <td>{{ activity.moving_time }}</td>
            <td>{{ activity.distance }}</td>
            <td>{{ activity.average_speed }}</td>
            <td>{{ activity.max_speed }}</td>
            <td>{{ activity.elevation_gain }}</td>
            <td>{{ activity.highest_elevation }}</td>
            <td>{{ activity.activity_type }}</td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}
